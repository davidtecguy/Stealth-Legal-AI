{"ast":null,"code":"import _objectSpread from\"/home/magic/Work/Workspace/Stealth_Legal-AI/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Card,CardContent,CardHeader,CardTitle}from'./ui/card';import{Button}from'./ui/button';import{Input}from'./ui/input';import{Textarea}from'./ui/textarea';import{Tabs,TabsContent,TabsList,TabsTrigger}from'./ui/tabs';import{apiService}from'../services/api';import{DocumentIcon,PencilIcon,DocumentArrowDownIcon,ArrowPathIcon}from'@heroicons/react/24/outline';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const DocumentEditor=_ref=>{let{selectedDocument,onDocumentCreated,onDocumentUpdated}=_ref;const[document,setDocument]=useState(null);const[title,setTitle]=useState('');const[content,setContent]=useState('');const[loading,setLoading]=useState(false);const[error,setError]=useState(null);// Change tracking\nconst[targetText,setTargetText]=useState('');const[occurrence,setOccurrence]=useState(1);const[replacementText,setReplacementText]=useState('');const[startPos,setStartPos]=useState(0);const[endPos,setEndPos]=useState(0);const[useRange]=useState(false);useEffect(()=>{if(selectedDocument){setDocument(selectedDocument);setTitle(selectedDocument.title);setContent(selectedDocument.content);}else{setDocument(null);setTitle('');setContent('');}},[selectedDocument]);const handleSave=async()=>{if(!title.trim()||!content.trim()){setError('Title and content are required');return;}setLoading(true);if(!document){// Create new document\ntry{const newDoc=await apiService.createDocument({title,content});setDocument(newDoc);onDocumentCreated(newDoc);setError(null);}catch(err){setError(err instanceof Error?err.message:'Failed to create document');}finally{setLoading(false);}}else{// Update existing document - create a change operation for title/content update\ntry{setLoading(true);// Create a change operation to update the entire document\nconst change={operation:'replace',replacement:content};const updatedDoc=await apiService.updateDocument(document.id,{changes:[change]},document.etag);setDocument(updatedDoc);onDocumentUpdated(updatedDoc);setError(null);}catch(err){setError(err instanceof Error?err.message:'Failed to update document');}finally{setLoading(false);}}};const applyChange=async()=>{if(!document){setError('No document loaded');return;}try{setLoading(true);let change;if(useRange){change={operation:'replace',range:{start:startPos,end:endPos},replacement:replacementText};}else{change={operation:'replace',target:{text:targetText,occurrence},replacement:replacementText};}const updatedDoc=await apiService.updateDocument(document.id,{changes:[change]},document.etag);setDocument(updatedDoc);setContent(updatedDoc.content);setError(null);// Clear change form\nsetTargetText('');setReplacementText('');setStartPos(0);setEndPos(0);}catch(err){setError(err instanceof Error?err.message:'Failed to apply change');}finally{setLoading(false);}};const handleContentChange=newContent=>{setContent(newContent);if(document){// Update document object with new content for ETag calculation\nsetDocument(_objectSpread(_objectSpread({},document),{},{content:newContent}));}};if(loading){return/*#__PURE__*/_jsx(Card,{className:\"w-full\",children:/*#__PURE__*/_jsx(CardContent,{className:\"p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2\",children:\"Loading...\"})]})})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsxs(CardTitle,{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(DocumentIcon,{className:\"h-5 w-5\"}),document?'Edit Document':'Create New Document']})}),/*#__PURE__*/_jsxs(CardContent,{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium\",children:\"Title\"}),/*#__PURE__*/_jsx(Input,{value:title,onChange:e=>setTitle(e.target.value),placeholder:\"Document title\",className:\"mt-1\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium\",children:\"Content\"}),/*#__PURE__*/_jsx(Textarea,{value:content,onChange:e=>handleContentChange(e.target.value),placeholder:\"Document content...\",className:\"mt-1 min-h-[300px]\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"text-red-600 text-sm bg-red-50 p-3 rounded\",children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsxs(Button,{onClick:handleSave,disabled:loading,children:[/*#__PURE__*/_jsx(DocumentArrowDownIcon,{className:\"h-4 w-4 mr-2\"}),document?'Update':'Create']}),document&&/*#__PURE__*/_jsxs(Button,{variant:\"outline\",onClick:()=>{setDocument(selectedDocument);setTitle((selectedDocument===null||selectedDocument===void 0?void 0:selectedDocument.title)||'');setContent((selectedDocument===null||selectedDocument===void 0?void 0:selectedDocument.content)||'');},children:[/*#__PURE__*/_jsx(ArrowPathIcon,{className:\"h-4 w-4 mr-2\"}),\"Reload\"]})]})]})]}),document&&/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsxs(CardTitle,{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(PencilIcon,{className:\"h-5 w-5\"}),\"Apply Changes (Redlining)\"]})}),/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsxs(Tabs,{defaultValue:\"text\",className:\"w-full\",children:[/*#__PURE__*/_jsxs(TabsList,{className:\"grid w-full grid-cols-2\",children:[/*#__PURE__*/_jsx(TabsTrigger,{value:\"text\",children:\"Text-based\"}),/*#__PURE__*/_jsx(TabsTrigger,{value:\"range\",children:\"Range-based\"})]}),/*#__PURE__*/_jsxs(TabsContent,{value:\"text\",className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium\",children:\"Target Text\"}),/*#__PURE__*/_jsx(Input,{value:targetText,onChange:e=>setTargetText(e.target.value),placeholder:\"Text to find and replace\",className:\"mt-1\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium\",children:\"Occurrence\"}),/*#__PURE__*/_jsx(Input,{type:\"number\",min:\"1\",value:occurrence,onChange:e=>setOccurrence(parseInt(e.target.value)||1),className:\"mt-1\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium\",children:\"Replacement Text\"}),/*#__PURE__*/_jsx(Input,{value:replacementText,onChange:e=>setReplacementText(e.target.value),placeholder:\"New text\",className:\"mt-1\"})]})]}),/*#__PURE__*/_jsxs(TabsContent,{value:\"range\",className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium\",children:\"Start Position\"}),/*#__PURE__*/_jsx(Input,{type:\"number\",min:\"0\",value:startPos,onChange:e=>setStartPos(parseInt(e.target.value)||0),className:\"mt-1\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium\",children:\"End Position\"}),/*#__PURE__*/_jsx(Input,{type:\"number\",min:\"0\",value:endPos,onChange:e=>setEndPos(parseInt(e.target.value)||0),className:\"mt-1\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium\",children:\"Replacement Text\"}),/*#__PURE__*/_jsx(Input,{value:replacementText,onChange:e=>setReplacementText(e.target.value),placeholder:\"New text\",className:\"mt-1\"})]})]})]}),/*#__PURE__*/_jsxs(Button,{onClick:applyChange,disabled:loading||!targetText&&!useRange||!replacementText,className:\"mt-4\",children:[/*#__PURE__*/_jsx(PencilIcon,{className:\"h-4 w-4 mr-2\"}),\"Apply Change\"]})]})]})]});};","map":{"version":3,"names":["React","useState","useEffect","Card","CardContent","CardHeader","CardTitle","Button","Input","Textarea","Tabs","TabsContent","TabsList","TabsTrigger","apiService","DocumentIcon","PencilIcon","DocumentArrowDownIcon","ArrowPathIcon","jsx","_jsx","jsxs","_jsxs","DocumentEditor","_ref","selectedDocument","onDocumentCreated","onDocumentUpdated","document","setDocument","title","setTitle","content","setContent","loading","setLoading","error","setError","targetText","setTargetText","occurrence","setOccurrence","replacementText","setReplacementText","startPos","setStartPos","endPos","setEndPos","useRange","handleSave","trim","newDoc","createDocument","err","Error","message","change","operation","replacement","updatedDoc","updateDocument","id","changes","etag","applyChange","range","start","end","target","text","handleContentChange","newContent","_objectSpread","className","children","value","onChange","e","placeholder","onClick","disabled","variant","defaultValue","type","min","parseInt"],"sources":["/home/magic/Work/Workspace/Stealth_Legal-AI/frontend/src/components/DocumentEditor.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Card, CardContent, CardHeader, CardTitle } from './ui/card';\nimport { Button } from './ui/button';\nimport { Input } from './ui/input';\nimport { Textarea } from './ui/textarea';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from './ui/tabs';\nimport { Document, ChangeOperation } from '../types';\nimport { apiService } from '../services/api';\nimport { \n  DocumentIcon, \n  PencilIcon, \n  DocumentArrowDownIcon, \n  ArrowPathIcon \n} from '@heroicons/react/24/outline';\n\ninterface DocumentEditorProps {\n  selectedDocument: Document | null;\n  onDocumentCreated: (document: Document) => void;\n  onDocumentUpdated: (document: Document) => void;\n}\n\nexport const DocumentEditor: React.FC<DocumentEditorProps> = ({ \n  selectedDocument, \n  onDocumentCreated,\n  onDocumentUpdated\n}) => {\n  const [document, setDocument] = useState<Document | null>(null);\n  const [title, setTitle] = useState('');\n  const [content, setContent] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  \n  // Change tracking\n  const [targetText, setTargetText] = useState('');\n  const [occurrence, setOccurrence] = useState(1);\n  const [replacementText, setReplacementText] = useState('');\n  const [startPos, setStartPos] = useState(0);\n  const [endPos, setEndPos] = useState(0);\n  const [useRange] = useState(false);\n\n  useEffect(() => {\n    if (selectedDocument) {\n      setDocument(selectedDocument);\n      setTitle(selectedDocument.title);\n      setContent(selectedDocument.content);\n    } else {\n      setDocument(null);\n      setTitle('');\n      setContent('');\n    }\n  }, [selectedDocument]);\n\n\n\n  const handleSave = async () => {\n    if (!title.trim() || !content.trim()) {\n      setError('Title and content are required');\n      return;\n    }\n\n    setLoading(true);\n    \n    if (!document) {\n      // Create new document\n      try {\n        const newDoc = await apiService.createDocument({ title, content });\n        setDocument(newDoc);\n        onDocumentCreated(newDoc);\n        setError(null);\n      } catch (err) {\n        setError(err instanceof Error ? err.message : 'Failed to create document');\n      } finally {\n        setLoading(false);\n      }\n    } else {\n      // Update existing document - create a change operation for title/content update\n      try {\n        setLoading(true);\n        \n        // Create a change operation to update the entire document\n        const change: ChangeOperation = {\n          operation: 'replace',\n          replacement: content\n        };\n        \n        const updatedDoc = await apiService.updateDocument(\n          document.id,\n          { changes: [change] },\n          document.etag\n        );\n        setDocument(updatedDoc);\n        onDocumentUpdated(updatedDoc);\n        setError(null);\n      } catch (err) {\n        setError(err instanceof Error ? err.message : 'Failed to update document');\n      } finally {\n        setLoading(false);\n      }\n    }\n  };\n\n  const applyChange = async () => {\n    if (!document) {\n      setError('No document loaded');\n      return;\n    }\n\n    try {\n      setLoading(true);\n      \n      let change: ChangeOperation;\n      \n      if (useRange) {\n        change = {\n          operation: 'replace',\n          range: { start: startPos, end: endPos },\n          replacement: replacementText\n        };\n      } else {\n        change = {\n          operation: 'replace',\n          target: { text: targetText, occurrence },\n          replacement: replacementText\n        };\n      }\n\n      const updatedDoc = await apiService.updateDocument(\n        document.id,\n        { changes: [change] },\n        document.etag\n      );\n\n      setDocument(updatedDoc);\n      setContent(updatedDoc.content);\n      setError(null);\n      \n      // Clear change form\n      setTargetText('');\n      setReplacementText('');\n      setStartPos(0);\n      setEndPos(0);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to apply change');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleContentChange = (newContent: string) => {\n    setContent(newContent);\n    if (document) {\n      // Update document object with new content for ETag calculation\n      setDocument({ ...document, content: newContent });\n    }\n  };\n\n  if (loading) {\n    return (\n      <Card className=\"w-full\">\n        <CardContent className=\"p-6\">\n          <div className=\"flex items-center justify-center\">\n            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary\"></div>\n            <span className=\"ml-2\">Loading...</span>\n          </div>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <DocumentIcon className=\"h-5 w-5\" />\n            {document ? 'Edit Document' : 'Create New Document'}\n          </CardTitle>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <div>\n            <label className=\"text-sm font-medium\">Title</label>\n            <Input\n              value={title}\n              onChange={(e) => setTitle(e.target.value)}\n              placeholder=\"Document title\"\n              className=\"mt-1\"\n            />\n          </div>\n          \n          <div>\n            <label className=\"text-sm font-medium\">Content</label>\n            <Textarea\n              value={content}\n              onChange={(e) => handleContentChange(e.target.value)}\n              placeholder=\"Document content...\"\n              className=\"mt-1 min-h-[300px]\"\n            />\n          </div>\n\n          {error && (\n            <div className=\"text-red-600 text-sm bg-red-50 p-3 rounded\">\n              {error}\n            </div>\n          )}\n\n          <div className=\"flex gap-2\">\n            <Button onClick={handleSave} disabled={loading}>\n              <DocumentArrowDownIcon className=\"h-4 w-4 mr-2\" />\n              {document ? 'Update' : 'Create'}\n            </Button>\n            {document && (\n              <Button variant=\"outline\" onClick={() => {\n                setDocument(selectedDocument);\n                setTitle(selectedDocument?.title || '');\n                setContent(selectedDocument?.content || '');\n              }}>\n                <ArrowPathIcon className=\"h-4 w-4 mr-2\" />\n                Reload\n              </Button>\n            )}\n          </div>\n        </CardContent>\n      </Card>\n\n      {document && (\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <PencilIcon className=\"h-5 w-5\" />\n              Apply Changes (Redlining)\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <Tabs defaultValue=\"text\" className=\"w-full\">\n              <TabsList className=\"grid w-full grid-cols-2\">\n                <TabsTrigger value=\"text\">Text-based</TabsTrigger>\n                <TabsTrigger value=\"range\">Range-based</TabsTrigger>\n              </TabsList>\n              \n              <TabsContent value=\"text\" className=\"space-y-4\">\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"text-sm font-medium\">Target Text</label>\n                    <Input\n                      value={targetText}\n                      onChange={(e) => setTargetText(e.target.value)}\n                      placeholder=\"Text to find and replace\"\n                      className=\"mt-1\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"text-sm font-medium\">Occurrence</label>\n                    <Input\n                      type=\"number\"\n                      min=\"1\"\n                      value={occurrence}\n                      onChange={(e) => setOccurrence(parseInt(e.target.value) || 1)}\n                      className=\"mt-1\"\n                    />\n                  </div>\n                </div>\n                <div>\n                  <label className=\"text-sm font-medium\">Replacement Text</label>\n                  <Input\n                    value={replacementText}\n                    onChange={(e) => setReplacementText(e.target.value)}\n                    placeholder=\"New text\"\n                    className=\"mt-1\"\n                  />\n                </div>\n              </TabsContent>\n              \n              <TabsContent value=\"range\" className=\"space-y-4\">\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"text-sm font-medium\">Start Position</label>\n                    <Input\n                      type=\"number\"\n                      min=\"0\"\n                      value={startPos}\n                      onChange={(e) => setStartPos(parseInt(e.target.value) || 0)}\n                      className=\"mt-1\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"text-sm font-medium\">End Position</label>\n                    <Input\n                      type=\"number\"\n                      min=\"0\"\n                      value={endPos}\n                      onChange={(e) => setEndPos(parseInt(e.target.value) || 0)}\n                      className=\"mt-1\"\n                    />\n                  </div>\n                </div>\n                <div>\n                  <label className=\"text-sm font-medium\">Replacement Text</label>\n                  <Input\n                    value={replacementText}\n                    onChange={(e) => setReplacementText(e.target.value)}\n                    placeholder=\"New text\"\n                    className=\"mt-1\"\n                  />\n                </div>\n              </TabsContent>\n            </Tabs>\n            \n            <Button \n              onClick={applyChange} \n              disabled={loading || (!targetText && !useRange) || !replacementText}\n              className=\"mt-4\"\n            >\n              <PencilIcon className=\"h-4 w-4 mr-2\" />\n              Apply Change\n            </Button>\n          </CardContent>\n        </Card>\n      )}\n    </div>\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}