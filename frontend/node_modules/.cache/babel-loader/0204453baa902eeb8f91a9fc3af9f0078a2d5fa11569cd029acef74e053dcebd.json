{"ast":null,"code":"const API_BASE_URL = 'http://localhost:8000';\nclass ApiService {\n  async request(endpoint, options = {}) {\n    const url = `${API_BASE_URL}${endpoint}`;\n    const response = await fetch(url, {\n      headers: {\n        'Content-Type': 'application/json',\n        ...options.headers\n      },\n      ...options\n    });\n    if (!response.ok) {\n      const error = await response.json().catch(() => ({\n        error: 'Unknown error'\n      }));\n      throw new Error(error.error || `HTTP error! status: ${response.status}`);\n    }\n    if (response.status === 204) {\n      return {}; // No content\n    }\n    return response.json();\n  }\n\n  // Document CRUD operations\n  async createDocument(document) {\n    return this.request('/documents', {\n      method: 'POST',\n      body: JSON.stringify(document)\n    });\n  }\n  async getDocuments(skip = 0, limit = 100) {\n    return this.request(`/documents?skip=${skip}&limit=${limit}`);\n  }\n  async getDocument(id) {\n    return this.request(`/documents/${id}`);\n  }\n  async updateDocument(id, changes, etag) {\n    const headers = {};\n    if (etag) {\n      headers['If-Match'] = etag;\n    }\n    return this.request(`/documents/${id}`, {\n      method: 'PATCH',\n      body: JSON.stringify(changes),\n      headers\n    });\n  }\n  async deleteDocument(id) {\n    return this.request(`/documents/${id}`, {\n      method: 'DELETE'\n    });\n  }\n\n  // Search operations\n  async searchDocuments(query, limit = 10, offset = 0) {\n    return this.request(`/documents/search?q=${encodeURIComponent(query)}&limit=${limit}&offset=${offset}`);\n  }\n  async searchDocument(id, query, limit = 10, offset = 0) {\n    return this.request(`/documents/${id}/search?q=${encodeURIComponent(query)}&limit=${limit}&offset=${offset}`);\n  }\n\n  // Health check\n  async healthCheck() {\n    return this.request('/health');\n  }\n}\nexport const apiService = new ApiService();","map":{"version":3,"names":["API_BASE_URL","ApiService","request","endpoint","options","url","response","fetch","headers","ok","error","json","catch","Error","status","createDocument","document","method","body","JSON","stringify","getDocuments","skip","limit","getDocument","id","updateDocument","changes","etag","deleteDocument","searchDocuments","query","offset","encodeURIComponent","searchDocument","healthCheck","apiService"],"sources":["/home/magic/Work/Workspace/Stealth_Legal-AI/frontend/src/services/api.ts"],"sourcesContent":["import { \n  Document, \n  DocumentCreate, \n  DocumentChanges, \n  SearchResponse \n} from '../types';\n\nconst API_BASE_URL = 'http://localhost:8000';\n\nclass ApiService {\n  private async request<T>(\n    endpoint: string, \n    options: RequestInit = {}\n  ): Promise<T> {\n    const url = `${API_BASE_URL}${endpoint}`;\n    const response = await fetch(url, {\n      headers: {\n        'Content-Type': 'application/json',\n        ...options.headers,\n      },\n      ...options,\n    });\n\n    if (!response.ok) {\n      const error = await response.json().catch(() => ({ error: 'Unknown error' }));\n      throw new Error(error.error || `HTTP error! status: ${response.status}`);\n    }\n\n    if (response.status === 204) {\n      return {} as T; // No content\n    }\n\n    return response.json();\n  }\n\n  // Document CRUD operations\n  async createDocument(document: DocumentCreate): Promise<Document> {\n    return this.request<Document>('/documents', {\n      method: 'POST',\n      body: JSON.stringify(document),\n    });\n  }\n\n  async getDocuments(skip = 0, limit = 100): Promise<Document[]> {\n    return this.request<Document[]>(`/documents?skip=${skip}&limit=${limit}`);\n  }\n\n  async getDocument(id: number): Promise<Document> {\n    return this.request<Document>(`/documents/${id}`);\n  }\n\n  async updateDocument(id: number, changes: DocumentChanges, etag?: string): Promise<Document> {\n    const headers: Record<string, string> = {};\n    if (etag) {\n      headers['If-Match'] = etag;\n    }\n\n    return this.request<Document>(`/documents/${id}`, {\n      method: 'PATCH',\n      body: JSON.stringify(changes),\n      headers,\n    });\n  }\n\n  async deleteDocument(id: number): Promise<void> {\n    return this.request<void>(`/documents/${id}`, {\n      method: 'DELETE',\n    });\n  }\n\n  // Search operations\n  async searchDocuments(query: string, limit = 10, offset = 0): Promise<SearchResponse> {\n    return this.request<SearchResponse>(\n      `/documents/search?q=${encodeURIComponent(query)}&limit=${limit}&offset=${offset}`\n    );\n  }\n\n  async searchDocument(id: number, query: string, limit = 10, offset = 0): Promise<SearchResponse> {\n    return this.request<SearchResponse>(\n      `/documents/${id}/search?q=${encodeURIComponent(query)}&limit=${limit}&offset=${offset}`\n    );\n  }\n\n  // Health check\n  async healthCheck(): Promise<{ status: string; service: string }> {\n    return this.request<{ status: string; service: string }>('/health');\n  }\n}\n\nexport const apiService = new ApiService();\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}